<div class="edit-post-page">
  <div class="edit-post-card">
    <h2>Edit Post</h2>

    <form (ngSubmit)="onSubmit()" enctype="multipart/form-data">
      <label>Title</label>
      <input [(ngModel)]="title" name="title" maxlength="150" />

      <label>Content</label>
      <textarea [(ngModel)]="content" name="content" rows="6" maxlength="5000"></textarea>

      <label>Media (optional)</label>
      <input type="file" (change)="onFileSelected($event)" accept="image/*,video/*" />

      <ng-container *ngIf="mediaUrl; else showExisting">
        <div class="media-preview" [ngSwitch]="type">
          <img *ngSwitchCase="'image'" [src]="mediaUrl()" alt="{{ title() }}" />
          <video *ngSwitchCase="'video'" [src]="mediaUrl()" controls></video>
        </div>
      </ng-container>

      <ng-template #showExisting>
        <div class="no-media">
          <p>No media attached</p>
        </div>
      </ng-template>
      <button type="submit" class="btn-primary">Save Changes</button>
    </form>

    <p class="back-link">
      <button (click)="onbackClick()">Back to Feed</button>
    </p>
  </div>
</div>